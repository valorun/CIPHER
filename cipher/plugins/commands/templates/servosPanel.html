<script src="{{ url_for('commands.static', filename='js/servosController.js') }}"></script>
<style>
	#servos-table td:nth-child(3)  {
		width: 50px;
	}
</style>

<div class="accordion">
	<header class="accordion-header">
		<i class="accordion-icon"></i> Servomoteurs
	</header>
	<div class="accordion-content">
		<table id="servos-table">
			<tr>
				<th>Label</th>
				<th>Position</th>
				<th></th>
				<th>Speed</th>
			</tr>
			{% for s in servos %}	
			<tr id="{{ s.label }}">
				<td>
					<label for="{{ s.label }}-range">{{ s.label }}: </label>
				</td>
				<td>
					<input type="range" id="{{ s.label }}-range" name="{{ s.label }}-range" min="{{ s.min_pulse_width }}" max="{{ s.max_pulse_width }}" value="{{ s.def_pulse_width }}">
				</td>
				<td>
					<span id="{{ s.label }}-value">{{ s.def_pulse_width }}</span>
				</td>
				<td>
					<input type="number" id="{{ s.label }}-speed" value="0" min="0" max="100">
				</td>
				<td>
					<input id="{{ s.label }}-reset" type="button" data-default="{{ s.def_pulse_width }}" value="reset">
				</td>
			</tr>
			{% endfor %}
		</table>
	</div>
</div>
<script type="text/javascript">
    document.addEventListener('DOMContentLoaded', () => {
        servosController.init();
    });
</script>
