<!doctype html>
<html lang="fr">

<head>
	<meta charset="utf-8">
	<title>Robot panel</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
	<link rel="stylesheet" href="/static/css/main.css">
	<link rel="stylesheet" href="/static/css/custom.css">
	<link rel="stylesheet" href="/static/vendor/fontawesome.css">
	<script src="/static/vendor/jquery/jquery.min.js"></script>
	<script src="/static/vendor/jquery/jquery-ui.min.js"></script>
	<link rel="stylesheet" href="/static/vendor/jquery/jquery-ui.min.css">
	<script src="/static/vendor/js.cookie.min.js"></script>
	<script src="/static/vendor/socket.io.js"></script>

	<script src="/static/js/utils.js"></script>
</head>

<body class="background">

	<!-- Top container -->
	<div class="bar top black large card-4" style="z-index:4; position:sticky">
		<div class="bar-item hide-large">
			<button class="btn hover-text-light-grey" onclick="open_sidebar();"><i class="fa fa-bars"></i>  Menu</button>
		</div>
		<div class="bar-item left hide-small hide-medium">
			<a href="/" class="btn hover-text-light-grey"><strong>C.I.P.H.E.R<sup>v1</sup></strong></a>
		</div>
		<div class="bar-item right">
			<a href="/logout" class="button"><i class="fas fa-lock-open"></i>  Déconnexion</a>
		</div>
	</div>

	<!-- Sidebar/menu -->
	<nav class="sidebar collapse primary animate-left" style="z-index:3;width:300px;" id="sidebar"><br>
		<div class="center">
			{% if session.logged_in %}
			<h3>Bienvenue {{ session['username'] }} !</h3>
			{% endif %}
			<i class="xxxlarge fas fa-robot"></i>
			<!--<img src="/static/img/logo.png" class="margin-right" style="width:50%">-->
		</div>
		<hr>
		<div class="container">
			<h4>Navigation</h4>
		</div>
		<div class="bar-block">
			<a href="/" class="bar-item button padding"><i class="fas fa-tachometer-alt"></i>  Tableau de bord</a>
			<a href="/commands" class="bar-item button padding"><i class="fas fa-terminal"></i>  Commandes manuelles</a>
			<a href="/speech" class="bar-item button padding"><i class="fas fa-comments"></i>  Actions vocales</a>
			<a href="/sequences" class="bar-item button padding"><i class="fas fa-project-diagram"></i>  Séquences</a>
			<a href="/debug" class="bar-item button padding"><i class="fas fa-bug"></i>  Debug</a>
			<a href="/settings" class="bar-item button padding"><i class="fas fa-cog"></i>  Paramètres</a>
			<a href="#" class="bar-item button padding-16 hide-large dark-grey hover-black" onclick="close_sidebar()" title="close menu"><i class="fa fa-chevron-left"></i></a>
		</div>
	</nav>


	<!-- Overlay effect when opening sidebar on small screens -->
	<div class="overlay hide-large animate-opacity" onclick="close_sidebar()" style="cursor:pointer" title="close side menu" id="overlay"></div>

	<!-- !PAGE CONTENT! -->
	<div class="main" style="margin-left:300px;">

		{% block content %}
		{% endblock %}

		<!-- Footer -->
		<footer class="container padding-16 center">
			<a href="#" class="button secondary margin"><i class="fa fa-arrow-up margin-right"></i>Remonter</a>
			<p><a href="https://clarius-robot.com/" target="_blank">La confrérie du Boulon</a></p>
			<p>Réalisation: Valorun - Ronan COLLIER</p>
			<p>Control Interface for Programmable Homemade Entertainment Robot</p>
		</footer>

		<!-- End page content -->
	</div>

	<script>
	// Get the Sidebar
	let sidebar = $("#sidebar");

	// Get the DIV with overlay effect
	let overlayBg = $("#overlay");

	// Toggle between showing and hiding the sidebar, and add overlay effect
	function open_sidebar() {
		if (sidebar.is(":visible")) {
			sidebar.hide();
			overlayBg.hide();
		} else {
			sidebar.show();
			overlayBg.show();
		}
	}

	// Close the sidebar with the close button
	function close_sidebar() {
		mySidebar.hide();
		overlayBg.hide();
	}

	// Setup cards collapse
	$(".accordion-header").each( (i, e) => {
		let content=$(e).parent().find(".accordion-content");
		let icon=$(e).find(".accordion-icon");
		icon.addClass("fas fa-angle-right");
		icon.removeClass("fa-angle-down");
		content.hide();

		$(e).on("click", () =>{
			if(content.is(":visible")){
				icon.addClass("fa-angle-right");
				icon.removeClass("fa-angle-down");
				content.hide();
			}
			else{
				icon.addClass("fa-angle-down");
				icon.removeClass("fa-angle-right");
				content.show();
			}
		});

	});
	</script>

	<div class="alert-modal bottom"></div>

</body>
</html>
