{% extends 'template.html' %}
{% block content %}
<script src="{{ url_for('static', filename='js/connection.js') }}"></script>
<script src="{{ url_for('editor.static', filename='vendor/ace/ace.js') }}"></script>
<script src="{{ url_for('editor.static', filename='js/editorController.js') }}"></script>

<style>
	#editor {
    	height: 400px;
		font-size: 16px;
	}
</style>

<div class="panel">
	<div class="card round-large tertiary">
		<button class="btn container primary block left-align accordion-header">
			<h4><i class="accordion-icon"></i> Editor</h4>
		</button>
		<div  class="accordion-content">
			<div id="editor"></div>
			<input type="text" id="name" value="" class="input border margin-bottom" placeholder="Exemple: test.py">
			<input type="button" id="saveButton" value="Enregistrer" class="button secondary">
		</div>
	</div>
</div>

<div class="panel">
	<div class="card round-large tertiary">
		<button class="btn container primary block left-align accordion-header">
			<h4><i class="accordion-icon"></i> Scripts enregistr√©s</h4>
		</button>
		<div  class="accordion-content">
			<div class="container">
				<p>
					<table class="table bordered responsive">
						{% for s in scripts %}
						{% if s %}
						<tr id="{{ s }}">
							<td>{{ s }}</td>
							<td>
								<a id="edit_{{ s }}" type="button" name="editScript" class="button dark-red">
									<i class="fas fa-edit "></i>
								</a>
							</td>
							<td>
								<a id="delete_{{ s }}" type="button" name="deleteScript" class="button dark-red">
									<i class="fas fa-trash"></i>
								</a>
							</td>
						</tr>
						{% endif %}
						{% endfor %}
					</table>
				</p>
			</div>
		</div>
	</div>
</div>

<script>
$(document).ready(function() {
	connectionManager.init();

	editorController.init();
});

</script>
{% endblock %}
